@model List<MainApp.DTO.Music.MusicTrackModelDTO>
@{
    ViewBag.Title = "Мои треки";
    Layout = "/Views/Layout/MainLayout.cshtml";
}

<div>
    @foreach (var track in Model)
    {
        <div id="track-@track.MusicId">
            @if (!string.IsNullOrEmpty(track.ImageBase64))
            {
                <img src="data:image/jpeg;base64,@track.ImageBase64" alt="@track.Title Image" />
            }
            <p>@track.Title - @track.Style</p>
            <audio controls preload="none">
                <!--ts = track.CreationDate - unic stamp for get new version of track, remove browser caching-->
                <source src="@Url.Action("DownloadMusicFile", "User", new { fileId = track.MusicId, ts = track.MusicId })" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    }
</div>
